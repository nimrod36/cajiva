#!/bin/bash
# Pre-commit hook: Run tests and linting before commit

echo "ğŸ” Running pre-commit checks..."
echo ""

# Run RSpec tests
echo "Running RSpec tests..."
bundle exec rspec
if [ $? -ne 0 ]; then
  echo "âŒ RSpec tests failed! Commit aborted."
  exit 1
fi

# Run Cucumber tests
echo ""
echo "Running Cucumber tests..."
bundle exec cucumber specs/
if [ $? -ne 0 ]; then
  echo "âŒ Cucumber tests failed! Commit aborted."
  exit 1
fi

# Run RuboCop linting
echo ""
echo "Running linter..."
bundle exec rubocop
if [ $? -ne 0 ]; then
  echo "âŒ Linting failed! Commit aborted."
  exit 1
fi

echo ""
echo "âœ… All pre-commit checks passed!"
exit 0
